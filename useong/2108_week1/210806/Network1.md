## 전자 메일과 파일 전송

### SMTP

**데이터 전송**

- mailx 프로그램

**연결해제**

- 명령과 응답: QUIT

SMTP 클라이언트 = QUIT ⇒ SMTP 서버 = 211(메시지) ⇒ SMTP 클라이언트

### POP 서비스

**POP과 SMTP**

- SMTP: 전자 메일을 송수신하는 호스트 사이에 필요한 프로토콜
- POP: 전자 메일 서버에 보관된 메일을 개인용 PC로 다운로드하는 프로토콜

**POP과 SMTP와의 비교**

- POP

1. POP 명령과 POP 응답
2. Well-known 포트: TCP 110번
3. 메일 다운로드 과정에서 사용자 인증 허가가 반드시 필요

- SMTP

1. SMTP 명령과 SMTP 응답
2. Well-known 포트: TCP 25번
3. 메일 송수신 과정에서 사용자 인증 허가가 불필요

### 파일 전송을 위한 사용자 환경

- FTP: FTP 클라이언트와 FTP 서버 사이의 파일 송수신 기능을 제공

**FTP 로그인**

- 로그인 계정과 암호가 필요

### FTP 원리

**FTP 구조**

- 제어 채널: FTP 프로토콜의 명령과 응답을 전송
- 데이터 채널: 복사하려는 파일의 내용을 전송

제어 채널과 데이터 채널

1. 사용자 인터페이스 모듈

- 사용자 명령을 해석하여 명령 송수신 모듈에 전달

2. 명령 송수신 모듈

- 제어 채널 설정 (클라이언트가 초기화)
- 사용자 명령을 FTP 명령으로 전환하여 제어 채널로 전송

3. 파일 송수신 모듈

- 파일 송수신 요구가 발생할 때마다 데이터 채널 설정 (서버가 초기화)
- 데이터 채널을 통하여 파일 복사, 파일 목록 전송 기능 수행

4. Well-known 포트

- 제어 채널: TCP 21번
- 데이터 채널: TCP 20번

### TFTP

- 임의의 원격 시스템으로부터 부팅 코드를 다운로드하는 등의 용도
- 자체적인 하드 디스크를 보유하지 못한 시스템에서 필수적으로 사용
- FTP의 기능을 대폭 축소하여 구현

**TFTP 동작과정**

- Well-known 포트: 69번
- 세션의 설정

1. 데이터 읽기

- RRQ: 세션 설정

- DATA/ACK

- DATA(512이하): 세션 해제

- 데이터 전송

1. UDP 프로토콜 사용
2. 도착 순서 문제의 해결: ACK 처리 후 DATA 전송
3. 데이터 분실 문제 해결: DATA와 ACK에 대해 타임 아웃 기능을 지정
4. 부정 응답 기능은 제공하지 않는다.
